@import url("https://fonts.googleapis.com/css2?family=VT323&display=swap");
@import "tailwindcss";

@font-face {
  font-family: "Perfect DOS VGA 437";
  /* point to the real file in public/ and declare format so the sanitizer accepts it */
  src: url("/perfect-dos-vga-437.ttf") format("truetype");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

body {
  font-family: "Perfect DOS VGA 437", monospace;
  background: #000;
  color: #fff;
  min-height: 100vh;
  margin: 0;
}

/*
  Global chromatic aberration:
  - text-shadow produces the red/blue fringe for all rendered text
  - the two body pseudo-elements tint and blur the whole screen left/right to reinforce the effect
  This keeps markup free of special classes; just render normally and the effect is automatic.
*/
:root {
  --ca-offset: 3px; /* color split distance */
  --ca-strong: 6px; /* overlay translation */
}

/* apply colored split to all text content */
body,
body * {
  /* multiple text shadows: red left, blue right, and a subtle white glow */
  text-shadow: calc(var(--ca-offset) * -1) 0 0 rgba(255, 80, 80, 0.95),
    calc(var(--ca-offset)) 0 0 rgba(120, 160, 255, 0.95),
    0 0 8px rgba(255, 255, 255, 0.04);
}

/* full-screen colored overlays to accentuate the offset and create halo/bleed */
body::before,
body::after {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 9999;
  mix-blend-mode: screen;
  opacity: 0.07;
  background: linear-gradient(
    90deg,
    rgba(255, 80, 80, 0.9) 0%,
    rgba(255, 80, 80, 0) 30%,
    rgba(120, 160, 255, 0) 70%,
    rgba(120, 160, 255, 0.9) 100%
  );
  filter: blur(12px) saturate(1.05);
  transform: translateZ(0);
}

:root {
  --ca-offset: 1px; /* slightly smaller color split */
  --ca-strong: 2px; /* milder overlay translation */
}

/* apply a lighter colored split to all text content */
body,
body * {
  /* lighter shadows: reduce alpha for subtler fringe and a very soft white glow */
  text-shadow: calc(var(--ca-offset) * -1) 0 0 rgba(255, 80, 80, 0.6),
    calc(var(--ca-offset)) 0 0 rgba(120, 160, 255, 0.6),
    0 0 6px rgba(255, 255, 255, 0.02);
}

/* full-screen colored tints (no gradient) to gently reinforce the split */
body::before,
body::after {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 9999;
  mix-blend-mode: screen;
  /* very low opacity for a subtle effect */
  opacity: 0.03;
  filter: blur(8px) saturate(1.02);
  transform: translateZ(0);
}

/* use single-color tints instead of a gradient */
body::before {
  background-color: rgba(255, 80, 80, 0.12);
  transform: translateX(calc(var(--ca-strong) * -1));
}

body::after {
  background-color: rgba(120, 160, 255, 0.12);
  transform: translateX(var(--ca-strong));
}

/* reduced-motion preference reduces intensity further */
@media (prefers-reduced-motion: reduce) {
  :root {
    --ca-offset: 1px;
    --ca-strong: 1px;
  }
  body::before,
  body::after {
    opacity: 0.01;
    filter: blur(4px);
  }
}

/* CRT overlays: scanlines + subtle vignette */
html::before {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 9998; /* below the color tints (9999) */
  /* repeating thin dark lines to simulate scanlines */
  background-image: repeating-linear-gradient(
    to bottom,
    rgba(0, 0, 0, 0.1) 0px,
    rgba(0, 0, 0, 0.1) 1px,
    rgba(0, 0, 0, 0) 3px
  );
  mix-blend-mode: multiply;
  opacity: 0.25; /* overall intensity â€” tweak to taste */
  transform: translateZ(0);
}

html::after {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 9997; /* below scanlines and tints */
  /* soft vignette to darken edges like an old CRT */
  background: radial-gradient(
    ellipse at center,
    rgba(0, 0, 0, 0) 40%,
    rgba(0, 0, 0, 0.32) 100%
  );
  mix-blend-mode: multiply;
  opacity: 0.45;
  transform: translateZ(0);
}

@media (prefers-reduced-motion: reduce) {
  html::before,
  html::after {
    opacity: 0.08;
  }
}
